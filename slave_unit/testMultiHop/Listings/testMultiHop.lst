C51 COMPILER V9.54   TESTMULTIHOP                                                          09/08/2015 11:08:31 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE TESTMULTIHOP
OBJECT MODULE PLACED IN .\Objects\testMultiHop.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE testMultiHop.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listi
                    -ngs\testMultiHop.lst) TABS(2) OBJECT(.\Objects\testMultiHop.obj)

line level    source

   1          
   2          #include <Nordic\reg9e5.h>
   3          #include <string.h>
   4          #include "nrf9e5.h"
*** WARNING C280 IN LINE 513 OF nrf9e5.h: 'groupID': unreferenced local variable
*** WARNING C280 IN LINE 513 OF nrf9e5.h: 'uniqueID': unreferenced local variable
   5          
   6          /*old Transmitter and Receiver
   7          void Transmitter(void){
   8            
   9            unsigned char payload[0x20];
  10            //strcpy(payload, "Hello World!");  //copy "Hello world!" to string
  11            GetString(&payload[0]);
  12            TXEN = 1;                         //turn radio to TX mode
  13            
  14            PutString("\r\n Packet content: ");
  15            PutString(&payload[0]);           //
  16            TransmitPacket(&payload[0]);
  17            PutString("\r\n Packet transmitted.");
  18            Delay5ms(10);
  19            
  20            while(1){
  21              GetString(&payload[0]);
  22              
  23              PutString("\r\n Packet content: ");
  24              PutString(&payload[0]);
  25              TransmitPacket(&payload[0]);
  26              PutString("\r\n Packet transmitted.");
  27              Delay5ms(10);
  28              
  29            }
  30          }
  31          
  32          void Receiver(void){
  33            unsigned char payload[0x20];
  34            TXEN = 0;
  35            
  36            PutString(" Receiver started. \r\n");
  37            
  38            while(1){
  39              
  40              
  41          //    //clear array
  42          //    unsigned char i;
  43          //    for(i=0;i<0x20;i++){
  44          //      payload[i] = 0x20;
  45          //    }
  46              
  47              
  48              ReceivePacket(&payload[0]);
  49              
  50              PutString(" Payload: ");
  51              PutString(&payload[0]);
  52              PutString("\r\n");
C51 COMPILER V9.54   TESTMULTIHOP                                                          09/08/2015 11:08:31 PAGE 2   

  53              
  54            }
  55            
  56          }
  57          */
  58          
  59          void MasterTransmitter(void){
  60   1        unsigned char payload[4];
  61   1        TXEN = 1;
  62   1        
  63   1        while(1){
  64   2          unsigned char i;
  65   2          
  66   2          PutString("\r\n [Slave1 LED][Slave2 LED](no space): ");
  67   2          GetString(&payload[0]);
  68   2          
  69   2          PutString("\r\n Transmitting packet: ");
  70   2          PutString(&payload[0]);
  71   2          for(i=0;i<50;i++){
  72   3            TransmitPacket(&payload[0]);
  73   3          }
  74   2        }
  75   1      }
  76          
  77          
  78          void Slave(unsigned char groupID){
  79   1        unsigned char payload[3];
  80   1        unsigned char id = groupID;
  81   1        unsigned char slaveID = 0;
  82   1        
  83   1        while(1){
  84   2          unsigned char i;
  85   2          
  86   2          TXEN = 0;
  87   2          ReceivePacket(&payload[0]);
  88   2          
  89   2          if(payload[id] == 0x31){
  90   3            P00 = 0;
  91   3            P04 = 1;
  92   3            P06 = 1;
  93   3          } else if(payload[id] == 0x32){
  94   3            P00 = 1;
  95   3            P04 = 0;
  96   3            P06 = 1;
  97   3          } else if(payload[id] == 0x33){
  98   3            P00 = 1;
  99   3            P04 = 1;
 100   3            P06 = 0;
 101   3          }
 102   2          
 103   2          TXEN = 1;
 104   2          for(i=0;i<10;i++){
 105   3            TransmitPacket(&payload[0]);
 106   3          }
 107   2          Delay5ms(50);
 108   2        }
 109   1      }
 110          
 111          void main(){
 112   1        
 113   1      
 114   1        unsigned char number[6];
C51 COMPILER V9.54   TESTMULTIHOP                                                          09/08/2015 11:08:31 PAGE 3   

 115   1        unsigned int num;
 116   1        unsigned char e;
 117   1        unsigned char s;
 118   1        
 119   1        
 120   1        
 121   1        InitPin(0,0); //Initialize P00 for LED1
 122   1        InitPin(4,0);
 123   1        InitPin(6,0);
 124   1        InitPin(3,1); //Initialize SW2 as input
 125   1        InitPin(5,1); //Initialize SW3 as input
 126   1        InitPin(7,1); //Initialize SW4 as input
 127   1        
 128   1        P00 = 1;    //Initialize with LED1,3,4 turned ON
 129   1        P04 = 1;
 130   1        P06 = 1;
 131   1        
 132   1        InitUART();
 133   1        InitRF();
 134   1        
 135   1        while(1){
 136   2          PutString("\r\nEnter a number: ");
 137   2          GetNumber(&number[0],5);
 138   2          num = Ascii2Int(&number[0]);
 139   2          
 140   2          //num = 1000/num;
 141   2          //Int2Byte(num, &number[0]);
 142   2          
 143   2          //num = Byte2Int(&number[0]);
 144   2          
 145   2          PutString("\r\nThe number you entered is: ");
 146   2          PrintInt(num);
 147   2          //num++;
 148   2          //PutString("\r\nType something: ");
 149   2          //ConsoleComment();
 150   2        }
 151   1      
 152   1        
 153   1        
 154   1        //MasterTransmitter();
 155   1        
 156   1      //  if(P03 == 0){   //SW2 for Transmitter
 157   1      //    Slave(0);
 158   1      //  } else if (P05 == 0){   //SW3 for Receiver
 159   1      //    Slave(1);
 160   1      //  } else if (P07 == 0){
 161   1      //    Slave(2);
 162   1      //  }
 163   1        
 164   1      }
*** WARNING C280 IN LINE 116 OF testMultiHop.c: 'e': unreferenced local variable
*** WARNING C280 IN LINE 117 OF testMultiHop.c: 's': unreferenced local variable
 165          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1920    ----
   CONSTANT SIZE    =    133    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      43
   IDATA SIZE       =   ----    ----
C51 COMPILER V9.54   TESTMULTIHOP                                                          09/08/2015 11:08:31 PAGE 4   

   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  4 WARNING(S),  0 ERROR(S)
