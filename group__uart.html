<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>The Unit: 1. UART</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="theunit_68_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The Unit
   &#160;<span id="projectnumber">v0.5</span>
   </div>
   <div id="projectbrief">Modern railway reflector</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">1. UART</div>  </div>
</div><!--header-->
<div class="contents">

<p>Function declarations for UART stuffie.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacf8a0654e3aca97ae8345cd32d5383cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart.html#gacf8a0654e3aca97ae8345cd32d5383cd">InitUART</a> (void)</td></tr>
<tr class="memdesc:gacf8a0654e3aca97ae8345cd32d5383cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the GPIO pins for UART.  <a href="#gacf8a0654e3aca97ae8345cd32d5383cd">More...</a><br /></td></tr>
<tr class="separator:gacf8a0654e3aca97ae8345cd32d5383cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbddc3b77b0f24c9b538a576b79c0b94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart.html#gafbddc3b77b0f24c9b538a576b79c0b94">PutChar</a> (unsigned char c)</td></tr>
<tr class="memdesc:gafbddc3b77b0f24c9b538a576b79c0b94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print character.  <a href="#gafbddc3b77b0f24c9b538a576b79c0b94">More...</a><br /></td></tr>
<tr class="separator:gafbddc3b77b0f24c9b538a576b79c0b94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8bc00d26bc4e89fa59f431a374cec9db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart.html#ga8bc00d26bc4e89fa59f431a374cec9db">PutString</a> (unsigned char *s)</td></tr>
<tr class="memdesc:ga8bc00d26bc4e89fa59f431a374cec9db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print string.  <a href="#ga8bc00d26bc4e89fa59f431a374cec9db">More...</a><br /></td></tr>
<tr class="separator:ga8bc00d26bc4e89fa59f431a374cec9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa2cceead0a270c7bfef8a8fff8dcf3a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart.html#gaa2cceead0a270c7bfef8a8fff8dcf3a6">GetChar</a> (unsigned char *c)</td></tr>
<tr class="memdesc:gaa2cceead0a270c7bfef8a8fff8dcf3a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a character from UART.  <a href="#gaa2cceead0a270c7bfef8a8fff8dcf3a6">More...</a><br /></td></tr>
<tr class="separator:gaa2cceead0a270c7bfef8a8fff8dcf3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada978224345c4739abe048a8c40498eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart.html#gada978224345c4739abe048a8c40498eb">GetString</a> (unsigned char *s)</td></tr>
<tr class="memdesc:gada978224345c4739abe048a8c40498eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get string input from UART.  <a href="#gada978224345c4739abe048a8c40498eb">More...</a><br /></td></tr>
<tr class="separator:gada978224345c4739abe048a8c40498eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0b91df0c31629eb706a1cf3a8bf30dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart.html#gad0b91df0c31629eb706a1cf3a8bf30dc">PrintChar</a> (unsigned char n)</td></tr>
<tr class="memdesc:gad0b91df0c31629eb706a1cf3a8bf30dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the value of <code>unsigned char</code>  <a href="#gad0b91df0c31629eb706a1cf3a8bf30dc">More...</a><br /></td></tr>
<tr class="separator:gad0b91df0c31629eb706a1cf3a8bf30dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e39049a2924ba0e62c760ba26c5b207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart.html#ga6e39049a2924ba0e62c760ba26c5b207">GetFixedString</a> (unsigned char *s, unsigned char n)</td></tr>
<tr class="memdesc:ga6e39049a2924ba0e62c760ba26c5b207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get fixed length input from UART.  <a href="#ga6e39049a2924ba0e62c760ba26c5b207">More...</a><br /></td></tr>
<tr class="separator:ga6e39049a2924ba0e62c760ba26c5b207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga058671be5cb67861c90b77293d3982f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart.html#ga058671be5cb67861c90b77293d3982f2">PutFixedString</a> (unsigned char *s, unsigned char n)</td></tr>
<tr class="memdesc:ga058671be5cb67861c90b77293d3982f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send fixed length input to UART.  <a href="#ga058671be5cb67861c90b77293d3982f2">More...</a><br /></td></tr>
<tr class="separator:ga058671be5cb67861c90b77293d3982f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8840334a08545bcc6bfa41d84831d173"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart.html#ga8840334a08545bcc6bfa41d84831d173">GetNumber</a> (void)</td></tr>
<tr class="memdesc:ga8840334a08545bcc6bfa41d84831d173"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a number input.  <a href="#ga8840334a08545bcc6bfa41d84831d173">More...</a><br /></td></tr>
<tr class="separator:ga8840334a08545bcc6bfa41d84831d173"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Function declarations for UART stuffie. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gacf8a0654e3aca97ae8345cd32d5383cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitUART </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the GPIO pins for UART. </p>
<p>Once initialized, you can attach the 3-pin TTL cable to P01, P02 and GND. Default baudrate is 9600.</p>
<dl class="section note"><dt>Note</dt><dd>UART uses P01(RXD) and P02(TXD) so if you're planning to use UART, which is great for debugging, you cannot use them as GPIO. You can attact an LED to it but it'll be just blink whenever the board sends/receives information. </dd></dl>

</div>
</div>
<a class="anchor" id="gafbddc3b77b0f24c9b538a576b79c0b94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PutChar </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print character. </p>
<p>Prints a character through UART. You can view it through PuTTY(Windows) or minicom(Linux).</p>
<dl class="section note"><dt>Note</dt><dd>It does NOT print the value of <code>c</code>. It'll print what the value represents in ASCII table. Eg. PutChar(0x34) will print '4'. PutChar(0x48) will print 'H'.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>- character to print </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8bc00d26bc4e89fa59f431a374cec9db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PutString </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print string. </p>
<p>Prints string/array of characters through UART. You can view it through PuTTY(Windows) or minicom(Linux).</p>
<dl class="section note"><dt>Note</dt><dd>Make sure the string is NULL-terminated, meaning put a 0x00 as the last element of the string.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*s</td><td>- pointer to array/first chracter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa2cceead0a270c7bfef8a8fff8dcf3a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetChar </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a character from UART. </p>
<p>Take input from UART. In this case, just 1 character.</p>
<dl class="section note"><dt>Note</dt><dd>Again, whatever you type into PuTTY, the value you get is the ASCII value.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*c</td><td>- <code>unsigned char</code> to be populated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gada978224345c4739abe048a8c40498eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetString </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get string input from UART. </p>
<p>Take input from UART until ENTER. The string is automatically NULL-terminated when you press ENTER.</p>
<dl class="section note"><dt>Note</dt><dd>Again, whatever you type into PuTTY, the value you get is the ASCII value.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*s</td><td>- pointer to array to store string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad0b91df0c31629eb706a1cf3a8bf30dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrintChar </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the value of <code>unsigned char</code> </p>
<p>This will print value of <code>unsigned char</code> instead of what its ASCII representation. Good for debugging as well.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>- value to print </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6e39049a2924ba0e62c760ba26c5b207"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetFixedString </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get fixed length input from UART. </p>
<p>Take <code>n</code> number of inputs from UART. This is fixed length so no matter what value you enter through UART, it'll keep taking the input until there are <code>n</code> inputs. I wrote this mainly to interface with master_unit through UART.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*s</td><td>- pointer to array to store string </td></tr>
    <tr><td class="paramname">n</td><td>- number of inputs to take </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga058671be5cb67861c90b77293d3982f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PutFixedString </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send fixed length input to UART. </p>
<p>Send <code>n</code> inputs to UART. Same as <a class="el" href="group__uart.html#ga6e39049a2924ba0e62c760ba26c5b207" title="Get fixed length input from UART. ">GetFixedString()</a> but this sends instead of receive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*s</td><td>- pointer to array to store string </td></tr>
    <tr><td class="paramname">n</td><td>- length of array <code>s</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8840334a08545bcc6bfa41d84831d173"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char GetNumber </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a number input. </p>
<p>Usually, if you enter a number to PuTTY, you'll get several <code>unsigned char</code> with the ASCII value instead. This function automatically converts the array of <code>unsigned char</code> that is meaningless to the program and convert it into an <code>unsigned char</code> that actually represents the value.</p>
<dl class="section return"><dt>Returns</dt><dd>value of the numbers entered. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
